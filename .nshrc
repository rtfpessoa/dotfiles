# Load the shell dotfiles, and then some:
# * ~/.path can be used to extend `$PATH`.
# * ~/.extra can be used for other settings you donâ€™t want to commit.

# Add directory to PATH
function add_path() {
    export PATH="$1:$PATH"
}

# [ -r ~/.functions ] && [ -f ~/.functions ] && source ~/.functions
[ -r ~/.exports ] && [ -f ~/.exports ] && source ~/.exports
[ -r ~/.path ] && [ -f ~/.path ] && source ~/.path
[ -r ~/.nsh_prompt ] && [ -f ~/.nsh_prompt ] && source ~/.nsh_prompt
# [ -r ~/.aliases ] && [ -f ~/.aliases ] && source ~/.aliases
[ -r ~/.extra ] && [ -f ~/.extra ] && source ~/.extra

# Add tab completion for many Bash commands
out="$(type brew)"
if [ $? -eq 0 ]
then
    HOMEBREW_PREFIX="$(brew --prefix)"
    if [ -f "${HOMEBREW_PREFIX}/etc/profile.d/bash_completion.sh" ]
    then
        source "${HOMEBREW_PREFIX}/etc/profile.d/bash_completion.sh"
    else
        for COMPLETION in "${HOMEBREW_PREFIX}/etc/bash_completion.d/"*
        do
            [ -f "${COMPLETION}" ] && source "${COMPLETION}"
        done
    fi
elif [ -f /etc/bash_completion ]
then
    source /etc/bash_completion
fi

# Add tab completion for many Bash commands
# source "$HOME/.asdf/asdf.sh"
# source "$HOME/.asdf/completions/asdf.bash"
# source "$HOME/.asdf/plugins/java/set-java-home.bash"

# Avoid issues with `gpg` as installed via Homebrew.
# https://stackoverflow.com/a/42265848/96656
export GPG_TTY="$(tty)"
